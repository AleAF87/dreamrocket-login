<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Imagens</title>
  <style>
    body { font-family: Arial; padding:20px; }
    .container { display:flex; gap:20px; }
    select { width:250px; height:300px; }
    img { max-width:500px; max-height:500px; border:1px solid #aaa; padding:10px; }
  </style>

  <!-- Firebase -->
  <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js"></script>
  <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore.js"></script>

  <script>
    const firebaseConfig = {
      apiKey: "SUA_APIKEY_AQUI",
      authDomain: "SEU_AUTHDOMAIN.firebaseapp.com",
      projectId: "SEU_PROJECTID",
      storageBucket: "SEU_BUCKET.appspot.com",
      messagingSenderId: "SEU_SENDER_ID",
      appId: "SEU_APP_ID"
    };

    const app = firebase.initializeApp(firebaseConfig);
    const db = firebase.firestore();
  </script>
</head>

<body>
<h2>Visualizar Imagens</h2>

<div class="container">
  <div>
    <select id="lista" size="15" onclick="mostrarImagem()"></select>
  </div>

  <div>
    <img id="preview" src="" />
  </div>
</div>

<script>
let imagens = [];

window.onload = function() {
  db.collection("imagens").get().then(snapshot => {
    snapshot.forEach(doc => {
      imagens.push({ id: doc.id, ...doc.data() });
    });

    const lista = document.getElementById("lista");
    imagens.forEach((img, index) => {
      let opt = document.createElement("option");
      opt.value = index;
      opt.textContent = img.titulo;
      lista.appendChild(opt);
    });
  });
}

function mostrarImagem() {
  let i = document.getElementById("lista").value;
  document.getElementById("preview").src = imagens[i].hash;
}
</script>

</body>
</html>

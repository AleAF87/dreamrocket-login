<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Upload de Arquivos</title>
  <style>
    body { font-family: Arial, sans-serif; padding: 20px; }
    .box { border: 1px solid #ccc; padding: 20px; border-radius: 8px; max-width: 400px; }
    button { padding: 10px 15px; margin-top: 10px; cursor: pointer; }
    textarea { width: 100%; height: 150px; margin-top: 10px; }
  </style>

  <!-- Firebase -->
  <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js"></script>
  <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-auth.js"></script>
  <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore.js"></script>

  <script>
    // ðŸ”¥ SUBSTITUA PELOS SEUS DADOS
    const firebaseConfig = {
      apiKey: "SUA_APIKEY_AQUI",
      authDomain: "SEU_AUTHDOMAIN.firebaseapp.com",
      projectId: "SEU_PROJECTID",
      storageBucket: "SEU_BUCKET.appspot.com",
      messagingSenderId: "SEU_SENDER_ID",
      appId: "SEU_APP_ID"
    };

    const app = firebase.initializeApp(firebaseConfig);
    const db = firebase.firestore();
  </script>
</head>

<body>
  <h2>Upload de Arquivos</h2>

  <div class="box">
    <label>Selecione uma imagem:</label><br />
    <input type="file" id="imgInput" accept="image/*" /><br /><br />

    <label>Selecione um PDF:</label><br />
    <input type="file" id="pdfInput" accept="application/pdf" /><br /><br />

    <button onclick="uploadImagem()">Enviar Imagem</button>
    <button onclick="uploadPDF()">Enviar PDF</button>

    <h3>Hash gerado:</h3>
    <textarea id="output" readonly></textarea>
  </div>

<script>
function fileToBase64(file, callback) {
  const reader = new FileReader();
  reader.onload = () => callback(reader.result);
  reader.readAsDataURL(file);
}

// ðŸ“Œ UPLOAD + SALVAR NO FIRESTORE
function uploadImagem() {
  const file = document.getElementById("imgInput").files[0];
  if (!file) return alert("Selecione uma imagem primeiro.");

  fileToBase64(file, (base64) => {
    document.getElementById("output").value = base64;

    db.collection("imagens").add({
      titulo: file.name,
      hash: base64
    });

    alert("Imagem salva no Firebase!");
  });
}

function uploadPDF() {
  const file = document.getElementById("pdfInput").files[0];
  if (!file) return alert("Selecione um PDF primeiro.");

  fileToBase64(file, (base64) => {
    document.getElementById("output").value = base64;

    db.collection("pdfs").add({
      titulo: file.name,
      hash: base64
    });

    alert("PDF salvo no Firebase!");
  });
}
</script>

</body>
</html>
